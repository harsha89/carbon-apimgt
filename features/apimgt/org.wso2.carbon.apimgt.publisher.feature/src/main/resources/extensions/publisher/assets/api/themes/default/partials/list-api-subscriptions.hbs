<div id='subscriptions-table-data'>
    {{#if apis}}
    <table class='table table-bordered'>
        <thead>
        <tr>
            <th>{{t "User"}}</th>
            <th>{{t "Application"}}</th>
            <th>{{t "Subscribed APIs & Actions"}}</th>
        </tr>
        </thead>
        <tbody>
        {{#each apis}}
            <tr>
                <td>{{userName}}</td>
                <td>{{application}}</td>
                <td>
                    {{#each apiSubscriptions}}
                        <a href="javascript:getAPIUrl('{{../../cuser.username}}','{{apiName}}','{{apiVersion}}');">
                            <i class="fw fw-api"></i> {{apiName}} - {{apiVersion}}
                        </a>
                        <!-- Make sure to update the js/api_subscriptions.js file if you change below views(form and div) -->
                        <div id="td-{{../userName}}-{{../application}}-{{apiName}}-{{apiVersion}}">
                            {{#if isNotHold}}

                                {{#if ../isBlocked}}

                                    <input type="radio"
                                           name="{{../../../../cuser.username}}-{{../apiName}}-{{../apiVersion}}-{{../../../appId}}-{{../../../userName}}-{{../../../application}}"
                                           disabled>
                                    Production Only
                                    <input type="radio"
                                           name="{{../../../../cuser.username}}-{{../apiName}}-{{../apiVersion}}-{{../../../appId}}-{{../../../userName}}-{{../../../application}}"
                                           checked disabled> Production & Sandbox

                                    <a href="javascript:updateSubscription('{{../../../../cuser.username}}','{{../apiName}}','{{../apiVersion}}','{{../../../appId}}','UNBLOCKED','{{../../../userName}}','{{../../../application}}');">
                                        Unblock
                                    </a>
                                {{else}}

                                    {{#if ../../isProdOnly}}
                                        <input type="radio"
                                               name="{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               checked disabled> Production Only
                                        <input type="radio"
                                               name="{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               disabled> Production & Sandbox

                                        <a href="javascript:updateSubscription('{{../../../../../cuser.username}}','{{../../apiName}}','{{../../apiVersion}}','{{../../../../appId}}','UNBLOCKED','{{../../../../userName}}','{{../../../../application}}');">
                                            Unblock
                                        </a>

                                    {{else}}
                                        <input type="radio"
                                               name="{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               id="r1-{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               value="PROD_ONLY_BLOCKED"> Production Only
                                        <input type="radio"
                                               name="{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               id="r2-{{../../../../../cuser.username}}-{{../../apiName}}-{{../../apiVersion}}-{{../../../../appId}}-{{../../../../userName}}-{{../../../../application}}"
                                               value="BLOCKED" checked> Production & Sandbox

                                        <a href="javascript:updateSubscription('{{../../../../../cuser.username}}','{{../../apiName}}','{{../../apiVersion}}','{{../../../../appId}}','GET_SELECTED','{{../../../../userName}}','{{../../../../application}}');">
                                            Block
                                        </a>
                                    {{/if}}
                                {{/if}}

                            {{else}}
                                Subscriptions pending approval!
                            {{/if}}
                        </div>
                    {{/each}}
                </td>
            </tr>
        {{/each}}
        </tbody>
    </table>
    {{else}}
        No subscribed API's found!
    {{/if}}
</div>